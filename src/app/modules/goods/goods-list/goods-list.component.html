<div *ngIf="goods$ | async as goods">
  <form
    class="p-4 pb-0"
    [formGroup]="searchForm"
    (ngSubmit)="onSubmitSearch()">
    <div class="flex w-full rounded-full bg-gray-300">
      <div class="flex-grow">
        <label for="keyword" class="hidden">검색어</label>
        <input
          class=""
          id="keyword"
          name="keyword"
          type="text"
          formControlName="keyword"
          maxlength="200"
          class="px-4 border-0"
          (change)="onChangeKeyword()"
          (keydown)="onChangeKeyword()">
      </div>
      <div class="flex-shrink-0 p-1">
        <button *ngIf="!isSearchResults" [disabled]="searchForm.invalid" type="submit" class="w-8 h-8 rounded-full bg-green-600 text-white flex justify-center items-center">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="20" height="20" viewBox="0 0 24 24" stroke-width="1.5" stroke="#fff" fill="none" stroke-linecap="round" stroke-linejoin="round">
            <path stroke="none" d="M0 0h24v24H0z"/>
            <circle cx="10" cy="10" r="7" />
            <line x1="21" y1="21" x2="15" y2="15" />
          </svg>
        </button>
        <button *ngIf="isSearchResults" type="button" (click)="onClickCancelSearch()" class="w-8 h-8 rounded-full bg-gray-500 text-white flex justify-center items-center">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-x" width="20" height="20" viewBox="0 0 24 24" stroke-width="1.5" stroke="#fff" fill="none" stroke-linecap="round" stroke-linejoin="round">
            <path stroke="none" d="M0 0h24v24H0z"/>
            <line x1="18" y1="6" x2="6" y2="18" />
            <line x1="6" y1="6" x2="18" y2="18" />
          </svg>
        </button>
      </div>
    </div>
  </form>
  <p *ngIf="isSearchResults && goods.length === 0" class="py-20 text-center text-gray-600">검색 결과가 없습니다.</p>
  <ul class="bg-white sm:py-2 px-safe">
    <ng-container *ngFor="let item of goods; trackBy: trackBy">
      <li
        class="relative overflow-hidden">
        <app-goods-list-item [item]="item"></app-goods-list-item>
      </li>
    </ng-container>
  </ul>
  <app-goods-more *ngIf="more" (more)="onMoreGoods()"></app-goods-more>
</div>
